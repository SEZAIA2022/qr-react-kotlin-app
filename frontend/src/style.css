/* =====================================================
   THEME (clair / sombre)
===================================================== */
:root{
  --primary:#3b83f6; --primary-hover:#2563eb; --secondary:#f97316;
  --success:#22c55e; --info:#17a2b8; --muted:#6c757d; --danger:#ef4444;
  --bg:#f8fafc; --card-bg:#fff; --card-alt:#eef2ff; --panel:#f1f9f9;
  --border:#e2e8f0; --border-soft:#ccc;
  --text:#0f172a; --text-light:#64748b;
  --radius:14px; --shadow-sm:0 2px 6px rgba(0,0,0,.05);
  --shadow-md:0 6px 14px rgba(0,0,0,.08);
  --ring:0 0 0 3px rgba(59,130,246,.22);
}
:root.dark{
  --bg:#0f172a; --card-bg:#1e293b; --card-alt:#182237; --panel:#14202e;
  --border:#334155; --text:#f8fafc; --text-light:#cbd5e1;
  --primary:#60a5fa; --primary-hover:#3b82f6;
}

/* =====================================================
   BASE
===================================================== */
*,*::before,*::after{ box-sizing:border-box }
html,body,#root{ height:100% }
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  line-height:1.6; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
a{ color:var(--primary); text-decoration:none }
a:hover{ text-decoration:underline }

/* =====================================================
   TOOLBAR
===================================================== */
.toolbar{
  display:flex; align-items:center; justify-content:center;
  padding:14px 0; background:var(--primary); color:#fff;
  font-size:1.1rem; font-weight:700; letter-spacing:.5px;
  box-shadow:var(--shadow-md);
  border-bottom:2px solid color-mix(in srgb, var(--primary-hover) 60%, transparent);
}
:root.dark .toolbar{ background:color-mix(in srgb, var(--primary) 60%, #1e293b); border-color:var(--border) }
.toolbar__title{ text-transform:uppercase; text-align:center; user-select:none; font-style: italic }

/* =====================================================
   LAYOUT / CARD (compact)
===================================================== */
.container,.container--sm,.container--md,.container--lg,.container--xl{ margin:32px auto; padding:24px }
.container--sm{max-width:480px} .container--md{max-width:900px}
.container--lg{max-width:1000px} .container--xl{max-width:1200px}
.card{ background:var(--card-bg); border-radius:var(--radius); box-shadow:var(--shadow-sm); border:1px solid var(--border) }
.card--panel{ background:var(--panel) }
.title{ margin:0 0 12px; font-weight:800; color:var(--primary); text-align:center }
.title + .segmented-bar{ margin-top:12px }
@media (max-width:480px){
  .container,.container--sm,.container--md,.container--lg,.container--xl{ margin:20px auto; padding:16px }
  .toolbar{ font-size:1rem; padding:12px 0 }
}

/* =====================================================
   FORM / INPUTS
===================================================== */
.form{ display:flex; flex-direction:column; gap:14px }
.input,.textarea,.textarea-inline{
  width:100%; padding:12px 14px; border-radius:10px;
  border:1.5px solid var(--border-soft); background:var(--card-bg); color:var(--text);
  transition:border-color .2s, box-shadow .2s, background-color .2s;
}
.input::placeholder,.textarea::placeholder{ color:var(--text-light) }
.input:focus,.textarea:focus,.textarea-inline:focus{ outline:none; border-color:var(--primary); box-shadow:var(--ring) }
.textarea{ min-height:120px; resize:vertical } .textarea-inline{ min-height:80px; resize:vertical }

/* œil mot de passe */
.relative{ position:relative }
.eye-btn{
  position:absolute; right:10px; top:50%; transform:translateY(-50%);
  background:transparent; border:none; cursor:pointer; padding:4px; line-height:0; color:var(--text-light);
  transition:color .2s;
}
.eye-btn:hover{ color:var(--primary) }

/* =====================================================
   MESSAGES
===================================================== */
.message{ margin:0 0 10px; padding:10px 14px; border-radius:10px; border:1px solid; text-align:center; font-weight:700; background:var(--card-bg) }
.message--error{ color:var(--danger); border-color:var(--danger) }
.message--info{ color:var(--primary); border-color:var(--primary) }
.message--success{ color:var(--success); border-color:var(--success) }

/* =====================================================
   BUTTONS
===================================================== */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  background:var(--primary); color:#fff; border:none; cursor:pointer;
  border-radius:12px; padding:10px 16px; font-weight:700;
  box-shadow:var(--shadow-sm); transition:background .2s, transform .15s, box-shadow .2s, opacity .2s;
}
.btn:hover{ background:var(--primary-hover); transform:translateY(-1px) }
.btn:active{ transform:translateY(0) }
.btn--muted{ opacity:.7; cursor:not-allowed }
.btn--danger{ background:var(--danger) }
.btn--danger:hover{ background:color-mix(in srgb, var(--danger) 85%, black) }
.btn-lg{ padding:14px 22px; min-width:140px }
.btn--xl{ padding:12px 20px; font-size:1.02rem; border-radius:12px }
.btn-sm,.btn--sm{ padding:6px 10px; font-size:.85rem; border-radius:8px } /* unifié */
/* Espacement bouton Delete Selected */
.btn--danger.mt-10{ margin-bottom:16px }

/* =====================================================
   SEGMENTED (Generate / History)
===================================================== */
.segmented-bar{ display:flex; justify-content:center; align-items:center; margin:12px 0 20px }
.segmented{ display:inline-flex; background:var(--card-bg); border:1px solid var(--border); border-radius:999px; box-shadow:var(--shadow-sm); overflow:hidden }
.segmented--pill .segmented__btn{
  padding:10px 16px; font-weight:700; cursor:pointer; border:none; background:transparent; color:var(--text);
  transition:background .2s, color .2s, transform .15s;
}
.segmented__btn:hover{ background:var(--panel) }
.segmented__btn.active{ background:var(--primary); color:#fff }
.segmented__btn:disabled{ opacity:.7; cursor:not-allowed }
:root.dark .segmented{ background:color-mix(in srgb, var(--card-bg) 80%, #000 20%) }

/* =====================================================
   GENERATE — TOP ROW
===================================================== */
.qr-inputrow{ display:flex; gap:12px; align-items:center; justify-content:center; margin:12px 0 18px }
.qr-inputrow .input{ max-width:200px; text-align:center; font-weight:700 }

/* =====================================================
   RESULTS GRID (3 per row)
===================================================== */
.results{ display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:16px; margin:12px 0 18px }
@media (max-width:900px){ .results{ grid-template-columns:repeat(2, minmax(0,1fr)) } }
@media (max-width:560px){ .results{ grid-template-columns:1fr } }

/* Cartes réutilisables (QR + items de liste + tasks) */
.qr-item,.list-item,.task{
  background:var(--card-bg); border:1px solid var(--border);
  border-radius:var(--radius); box-shadow:var(--shadow-sm); padding:14px;
}
.qr-item{ display:flex; flex-direction:column; gap:10px }
.qr-name{ margin:0; font-weight:700; font-size:.95rem; color:var(--text); word-break:break-all }

/* Cadre image QR */
.qr-box{
  background:var(--card-alt); border:1px dashed var(--border);
  border-radius:12px; aspect-ratio:1/1; display:flex; align-items:center; justify-content:center; overflow:hidden;
}
.qr-image{ max-width:90%; height:auto; image-rendering:pixelated }

/* Fade-in images */
.img-fade{ opacity:0; transform:translateY(4px); transition:opacity .3s ease, transform .3s ease }
.img-fade.loaded{ opacity:1; transform:none }

/* Bouton Download / Print */
.download-btn{
  align-self:center; display:inline-flex; align-items:center; justify-content:center;
  padding:8px 14px; border-radius:10px; font-weight:700; background:var(--panel);
  border:1px solid var(--border); cursor:pointer; transition:background .2s, transform .15s, box-shadow .2s;
}
.download-btn:hover{ background:var(--card-alt); transform:translateY(-1px) }
.download-btn:active{ transform:translateY(0) }

/* Badges statut */
.status{
  display:inline-block; padding:2px 8px; border-radius:999px; font-size:.8rem; font-weight:800; letter-spacing:.3px;
  border:1px solid var(--border); background:var(--panel); color:var(--text);
}
.status--ok{
  background:color-mix(in srgb, var(--success) 16%, var(--card-bg));
  border-color:color-mix(in srgb, var(--success) 35%, var(--border)); color:#0a5c2a;
}
.status--warn{
  background:color-mix(in srgb, var(--secondary) 16%, var(--card-bg));
  border-color:color-mix(in srgb, var(--secondary) 35%, var(--border)); color:#6a3a00;
}
:root.dark .status--ok{ color:#bef1cb } :root.dark .status--warn{ color:#ffd7b3 }

/* Pagination */
.pagination{
  margin:6px 0 10px; padding:10px 12px; display:flex; align-items:center; justify-content:center; gap:12px;
  background:var(--card-bg); border:1px solid var(--border); border-radius:999px; box-shadow:var(--shadow-sm);
}
.pagination span{ font-weight:700; color:var(--text-light) }

/* =====================================================
   LISTE DES QUESTIONS
===================================================== */
.list{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:10px }
.list-item{ display:grid; grid-template-columns:auto 1fr auto auto; gap:10px; align-items:flex-start }
.q-text{ white-space:pre-wrap; word-break:break-word; color:var(--text) }
@media (max-width:640px){
  .list-item{ grid-template-columns:auto 1fr; grid-auto-rows:auto }
  .list-item .icon-btn{ justify-self:start }
}

/* Icon buttons (edit/delete/save/cancel) */
.icon-btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:8px 10px; border-radius:10px; border:1px solid var(--border);
  background:var(--panel); cursor:pointer; user-select:none; font-size:1rem;
  transition:background .2s, transform .15s, border-color .2s;
}
.icon-btn:hover{ background:var(--card-alt); transform:translateY(-1px) }
.icon-btn:active{ transform:translateY(0) }

/* =====================================================
   CHECKBOX custom (✓)
===================================================== */
.checkbox{
  appearance:none; -webkit-appearance:none; width:20px; height:20px;
  border:2px solid var(--border); background:var(--card-bg); border-radius:6px;
  display:grid; place-items:center; cursor:pointer; margin-top:2px;
  transition:border-color .2s, background-color .2s, box-shadow .2s;
}
.checkbox:hover{ border-color:var(--primary) }
.checkbox:focus-visible{ box-shadow:var(--ring); outline:none }
.checkbox:checked{ background:var(--primary); border-color:var(--primary); position:relative }
.checkbox:checked::after{ content:"✓"; color:#fff; font-size:14px; font-weight:800; line-height:1 }

/* =====================================================
   EditableTextSection
===================================================== */
.textarea--lg{ min-height:180px }
.btn-group{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap }
.btn--info{ background:var(--primary) } .btn--info:hover{ background:var(--primary-hover) }
.about-box{
  background:var(--panel); border:1px solid var(--border); border-radius:var(--radius);
  padding:16px; margin-bottom:16px; box-shadow:var(--shadow-sm);
  white-space:pre-wrap; word-break:break-word; line-height:1.7;
}

/* =====================================================
   HELP PAGE
===================================================== */
.tasks{ display:flex; flex-direction:column; gap:16px; margin-top:10px }
.task__title{
  font-weight:700; font-size:1.05rem; color:var(--text);
  cursor:pointer; display:flex; align-items:center; justify-content:space-between;
  user-select:none; margin:0 0 6px;
}
.task__title .chev{ margin-left:8px; transition:transform .25s }
.task__title.open .chev{ transform:rotate(90deg) }
.task .input + .textarea{ margin-top:12px } /* espace titre -> description */
.task__content{ margin:0 0 10px; padding:10px 14px; background:var(--panel); border-radius:10px; line-height:1.6 }
.btn-row{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px }
.btn-row.right{ justify-content:flex-end }
.w-100{ width:100% }

/* =====================================================
   USER REGISTER
===================================================== */
.fieldset{ border:1px solid var(--border); border-radius:10px; padding:12px 14px; background:var(--card-alt) }
.legend{ font-weight:700; color:var(--primary); padding:0 6px }
.radio-group{ display:flex; gap:20px; flex-wrap:wrap; margin-top:8px }
.radio-label{ display:flex; align-items:center; font-weight:600; cursor:pointer; color:var(--text) }
.table-responsive{ overflow-x:auto; margin-top:12px }
.table{
  width:100%; border-collapse:collapse; font-size:.95rem; background:var(--card-bg);
  border-radius:var(--radius); box-shadow:var(--shadow-sm);
}
.table th,.table td{ padding:10px 14px; border-bottom:1px solid var(--border); text-align:left }
.table th{ background:var(--card-alt); font-weight:700; color:var(--text) }
.table tr:last-child td{ border-bottom:none }
.table tbody tr:hover{ background:var(--panel) }

/* =====================================================
   ACCESSIBILITÉ & DARK tweaks
===================================================== */
:focus-visible{ outline:3px solid rgba(59,130,246,.45); outline-offset:2px; border-radius:10px }
:root.dark .qr-item, :root.dark .list-item, :root.dark .task{
  background:color-mix(in srgb, var(--card-bg) 85%, #000 15%)
}
:root.dark .qr-box{ background:color-mix(in srgb, var(--card-alt) 70%, #000 30%) }
:root.dark .download-btn, :root.dark .icon-btn{
  background:color-mix(in srgb, var(--panel) 80%, #000 20%)
}

/* =====================================================
   UTILS
===================================================== */
.mt-10{ margin-top:10px } .mt-20{ margin-top:20px }
.text-center{ text-align:center }


/* ===== AdminDashboard (table tweaks) ===== */
.table td{vertical-align:middle}
.table th:last-child,.table td:last-child{text-align:center} /* colonne Actions centrée */
.table .btn{white-space:nowrap} /* évite le retour à la ligne dans le bouton */

/* ===== CreateNewPassword (inputs avec œil) ===== */
.input--with-eye{padding-right:42px}      /* place pour l’icône œil */
.form .relative + .relative{margin-top:12px} /* espace entre "Nouveau" et "Confirmer" */


/* ===== Auth/Forms extras (errors + inputs avec œil) ===== */
.error-text{margin:6px 0 0;color:var(--danger);font-weight:600;font-size:.9rem}
.input[aria-invalid="true"],.textarea[aria-invalid="true"]{border-color:var(--danger)}
.input--with-eye{padding-right:42px}               /* place pour l’icône œil */
.form .relative + .relative{margin-top:12px}       /* espace entre les 2 champs */

/* ===== Ghost button (lien bouton – VerifyEmail) ===== */
.btn-ghost{background:transparent;color:var(--primary);border:1px solid var(--primary)}
.btn-ghost:hover{background:var(--panel);transform:translateY(-1px)}

/* ===== PasswordSuccess – icône cercle ===== */
.icon-circle{
  width:64px;height:64px;border-radius:50%;
  display:inline-flex;align-items:center;justify-content:center;
  margin:0 auto 10px;box-shadow:var(--shadow-sm)
}
.icon-circle--success{
  background:color-mix(in srgb,var(--success) 18%, #fff);
  color:var(--success);
  border:1px solid color-mix(in srgb,var(--success) 40%, #fff)
}

/* ===== Text helpers ===== */
.text{margin:0}
.text--main{font-weight:700}
.text--muted{color:var(--text-light)}

/* ===== Nav & Main wrappers (remplace les inline styles) ===== */
.app-nav{
  padding:10px; text-align:center; margin:0 auto 20px;
  background:var(--card-alt); box-shadow:var(--shadow-sm); border-radius:10px;
}
:root.dark .app-nav{ background:color-mix(in srgb,var(--card-alt) 65%, #000 35%) }

.app-main{
  padding:20px; max-width:1200px; margin:0 auto;
  background:var(--card-bg); border-radius:var(--radius);
  box-shadow:var(--shadow-sm); min-height:70vh;
}
:root.dark .app-main{ background:color-mix(in srgb,var(--card-bg) 90%, #000 10%) }

.qr-caption {
margin-top: 8px;
font-style: italic;
color: #555;
font-size: 14px;
text-align: center;
}

.desktop-download p,
.mobile-download p {
margin-bottom: 12px;
}

.btn-ghost{
  background: transparent;
  color: var(--primary);
  border: 1.5px solid var(--primary);
  padding: 10px 16px;
  border-radius: 12px;
  font-weight: 700;
  cursor: pointer;
  transition: background 0.2s, color 0.2s, transform 0.15s;
}
.btn-ghost:hover{
  background: var(--primary);
  color: #fff;
  transform: translateY(-1px);
}
.btn-ghost:active{
  transform: translateY(0);
}
.btn-ghost:disabled{
  opacity: 0.6;
  cursor: not-allowed;
}
:root.dark .btn-ghost{
  border-color: var(--primary-hover);
  color: var(--primary-hover);
}
:root.dark .btn-ghost:hover{
  background: var(--primary-hover);
  color: #fff;
}
.button-group {
  display: flex;
  justify-content: center; /* centre les boutons horizontalement */
  gap: 10px;               /* espace entre les boutons */
  margin-top: 10px;        /* espace par rapport au QR code */
}

/* =====================================================
   REPPORT PAGE — SPACING & STRUCTURE FIX
===================================================== */

/* Conteneur principal */
.repport-page {
  max-width: 1100px;
  margin: 32px auto;
}

/* Cartes : plus d’espace vertical */
.repport-page .card {
  margin-bottom: 20px;
  padding: 18px 20px;
}

/* Tasks (titre / sous titre) */
.repport-page .task.card {
  padding: 16px 18px;
  margin-top: 20px;
}

/* Sous-carte (questions, add forms) */
.repport-page .task .card {
  padding: 16px;
  margin-top: 14px;
  border-radius: 12px;
  border: 1px solid var(--border-soft);
}

/* Séparation entre bouton "Delete" et contenu */
.repport-page .btn-row.right {
  margin-top: 12px;
  margin-bottom: 8px;
}

/* Séparation plus nette entre sections */
.repport-page .subtitle--small {
  margin-top: 10px;
  margin-bottom: 6px;
}

/* Inputs mieux espacés */
.repport-page .input,
.repport-page .textarea,
.repport-page select {
  margin-top: 8px;
  margin-bottom: 12px;
}

/* Boutons Add / Cancel espacés */
.repport-page button.btn {
  margin-top: 10px;
}

/* Séparation nette avant form "Add subtitle" */
.repport-page .add-subtitle-section {
  margin-top: 24px;
  padding-top: 20px;
  border-top: 1px solid var(--border);
}

/* Idem pour Add question */
.repport-page .add-question-section {
  margin-top: 24px;
  padding-top: 20px;
  border-top: 1px solid var(--border);
}

/* Petits textes (No questions…) */
.repport-page .muted {
  margin-top: 5px;
  margin-bottom: 8px;
  font-size: 0.95rem;
}

/* Amélioration flèche toggle */
.repport-page .task__title .chev {
  font-size: 14px;
  margin-left: 10px;
}

/* Text helpers communs (RepportPage, HelpPage, etc.) */
.bold{
  font-weight: 600;
}

.muted{
  color: var(--text-light);
  font-size: 0.9rem;
}

.qr-caption{
  margin-top: 8px;
  font-style: italic;
  font-family: Arial, sans-serif;
  font-size: 12px;
  text-align: center;
  opacity: .85;
}
